<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Register</title>
<script>
const WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyKYNAt8jPNtCZaWJCXnBcnxHCqk_HXfBKk5k_zavMUXIjjFJPN9SKesFZ8UleTl11y/exec";

async function registerUser(e) {
  e.preventDefault();
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const confirm = document.getElementById("confirm").value;

  if(password !== confirm){
    alert("Passwords do not match!");
    return;
  }

  const formData = new URLSearchParams({
    action: "register",
    email: email,
    password: password
  });

  const response = await fetch(WEB_APP_URL, {
    method: "POST",
    body: formData
  });

  const result = await response.json();
  alert(result.message);
  if(result.success){
    document.getElementById("regForm").reset();
  }
}
</script>
</head>
<body>
<h2>Register</h2>
<form id="regForm" onsubmit="registerUser(event)">
  <label>Email: <input type="email" id="email" required></label><br>
  <label>Password: <input type="password" id="password" required></label><br>
  <label>Confirm Password: <input type="password" id="confirm" required></label><br>
  <button type="submit">Register</button>
</form>
</body>
</html>
